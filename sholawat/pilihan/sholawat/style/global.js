var $$={trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},format:function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++){var a=new RegExp("\\{"+t+"\\}","gm");e=e.replace(a,arguments[t+1])}return e},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=location.search.substr(1).match(t);return null!=a?unescape(decodeURI(a[2])):null},bytesToSize:function(e){var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return 0==a?e+" "+t[a]:(e/Math.pow(1024,a)).toFixed(1)+" "+t[a]},random:function(e,t,a){if(0===arguments.length)return Math.random();1===arguments.length&&(t=e,e=0);var n=e+Math.random()*(t-e);return void 0===a?Math.round(n):n.toFixed(a)},setCookie:function(e,t,a,n,i){var r=e+"="+t;if(a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),r+="; expires="+o.toGMTString()}r+="; path=/",n&&(r+="; domain="+n),i&&(r+="; secure"),document.cookie=r},getCookie:function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var i=a[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},popup:function(e,t,a,n){var i=screen.width/2-a/2,r=screen.height/2-n/2;return window.open(e,t,"toolbar=no,status=no,menubar=no,width="+a+",height="+n+",top="+r+",left="+i)},setUrlParam:function(e,t,a){var n=new RegExp("([?&]"+t+"=).*?(&|$)");return a=encodeURIComponent(a),e=n.test(e)?e.replace(n,"$1"+a+"$2"):[e,t+"="+a].join(~e.indexOf("?")?"&":"?")},setUrlParams:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e=$$.setUrlParam(e,a,t[a]));return e},removeUrlParam:function(e,t){return e.replace(new RegExp("[?&]"+t+"=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])"+t+"=[^&]*&"),"$1")},clearForm:function(e,t){var a=":button, :submit, :reset, :hidden, :checkbox, :radio";t&&(a+=","+t),e.find(":input").not(a).val(""),e.find(":checkbox, :radio").prop("checked",!1)},btnLoad:function(e){e.attr("data-reset",e.text()),e.attr("disabled","disabled"),e.text(e.attr("data-load"))},btnReset:function(e){e.attr("data-reset")&&e.text(e.attr("data-reset")),e.removeAttr("disabled")},initPage:function(e){var o=e||24;$(".loadmore").each(function(){var r;(r=$(this)).click(function(){if(r.text()==$$lang.LOADING)return!1;var t=r.attr("href"),a=r.attr("data-callbackid"),n=Number(r.attr("data-page")),i=Number(r.attr("data-maxpage"));r.text($$lang.LOADING);
var e=$$.setUrlParams(t,{ajax:1});return $.ajax({url:e,type:"get",success:function(e){r.text($$lang.SHOW_MORE),i<=n&&r.hide(),$$.trim(e)?(n++,r.attr("data-page",n),r.attr("href",$$.setUrlParams(t,{page:n})),$("#"+a).append(e),0<$("#pagedata").children().length%o&&r.hide(),window.defaultLazyLoadInstance.update()):r.hide()}}),!1})})},initTopics:function(){var o=new LazyLoad({elements_selector:".lazygb_topic",data_src:"original"});$(".loadmore").each(function(){var r;(r=$(this)).click(function(){if(r.text()==$$lang.LOADING)return!1;var t=r.attr("href"),a=r.attr("data-callbackid"),n=Number(r.attr("data-page")),i=Number(r.attr("data-maxpage"));r.text($$lang.LOADING);var e=$$.setUrlParams(t,{ajax:1});return $.ajax({url:e,type:"get",success:function(e){r.text($$lang.SHOW_MORE),i<=n&&r.hide(),$$.trim(e)?(n++,r.attr("data-page",n),r.attr("href",$$.setUrlParams(t,{page:n})),$("#"+a).append(e),0<$("ul#pagedata>li").length%12&&r.hide(),o.update()):r.hide()}}),!1})})},initDisqus:function(){var e,t;0<$("#disqus_thread").length&&(e=document,(t=e.createElement("script")).src="#",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t));var a=$("#comment_container");0<a.length&&"undefined"!=typeof comment_config&&"undefined"!=typeof comment_url&&(comment_config.page.url=location.href,comment_config.page.title||(comment_config.page.title=document.title),a.append('<iframe id="comment_iframe" src="'+comment_url+"&"+$.param(comment_config)+'" style="border: 0; width: 100%;" scrolling="no" frameborder="0"></iframe>'),iFrameResize({checkOrigin:!1,bodyMargin:"10px",interval:100,minHeight:80,messageCallback:function(e){"remove"===e.message&&$(".cssload-spin-box").remove()}},"#comment_iframe"))},initAddthis:function(){var e,t;e=document,(t=e.createElement("script")).src="#",t.async=1,(e.head||e.body).appendChild(t)},initAutocompleteDom:function(){var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("key"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"/suggestion.json",remote:{url:"/api/v1/search_suggestion?key=%QUERY",wildcard:"%QUERY"}});
$(".formsearch").each(function(){var n;(n=$(this)).find(".autocomplete").typeahead({hint:!0,highlight:!0,minLength:1},{displayKey:"key",source:e,templates:{suggestion:function(e){return'<a href="javascript:void(0)">'+e.key+"</a>"}}}).on("typeahead:selected",function(e,t,a){n.submit()})}),



$(".autocomplete").focus()},initAutocomplete:function(){var a=$(".autocomplete");if(0<a.length&&a.one("click",function(){$(".history").show(),a.off("click");var e=document,t=e.createElement("script");t.src="#",(e.head||e.body).appendChild(t)}),window.carisholawat&&carisholawat.enable&&carisholawat.topSearchHint&&0<carisholawat.topSearchHint.length){var e=0;


setInterval(function(){e===carisholawat.topSearchHint.length&&(e=0),a.attr("placeholder",carisholawat.topSearchHint[e]),e++},5e3)}},initMenu:function(){var a,n;$(window).on("hashchange",function(e){var t=e.originalEvent;

t.oldURL&&"#menu"===t.oldURL.substr(-5)&&("block"===$(".shadow").css("display")?closeMenu():window.history.go(-1))}),
$(".menu,.shadow").on("touchstart",function(e){var t=e.originalEvent.touches;t&&t.length&&(a=t[0].pageX)}).on("touchmove",function(e){var t=e.originalEvent.touches;t&&t.length&&(n=a-t[0].pageX)}).on("touchend",function(){0<$(".ar_fix").length?n<-80&&closeMenu():80<n&&closeMenu(),n=0}),$("#change_language").click(function(){$(".menu-locals").toggle(),$(".menu-lang").toggleClass("menu-lang-down menu-lang-up");}),$("#select-lang-footer").click(function(){window.openMenu(),$(".menu-lang").hasClass("menu-lang-down")&&$("#change_language").click(),$(".menu").animate({scrollTop:585},500)})},initBackTop:function(){var e=$("#backtop");$(window).scroll(function(){500<$(this).scrollTop()?e.is(":hidden")&&e.show():e.is(":visible")&&e.hide()}),$("#backtop").click(function(){$("html,body").animate({scrollTop:0},500)})},gaEvent:function(e){var t=e.split("|");if(3==t.length)try{gtag("event",t[1],{event_category:t[0],event_label:t[2]})}catch(e){}},refEvent:function(e){e&&$$.setCookie("_dl_ref",e,null,"#",!0)},hostnames:{localhost:1,"167.114.64.102":1,"#":1,"#":1,"#":1},gaReferrer:function(e){},initCategory:function(e){$("#sortselect").change(function(){$(this).attr("class",$(this).val()),location.href=e+$(this).val()}),$(".category-title").click(function(){$(this).find("i").toggleClass("triangle-down triangle-up"),$(".category").toggle()})},initSwiper:function(){$(".box-scroll").addClass("swiper-container-free"),$(".swiper-container-free").length&&($(".box-scroll .bs-s a").addClass("swiper-slide"),new Swiper(".swiper-container-free",{wrapperClass:"bs-s",freeMode:!0,freeModeMomentumVelocityRatio:.7,slidesPerView:"auto",onTouchMove:function(e){e.container.trigger("scroll")}}))},initIos:function(){var e,t;/ipod|iphone|ipad/i.test(navigator.userAgent)&&(e=document,(t=e.createElement("script")).src="#",t.async=1,(e.head||e.body).appendChild(t))},initADAegon:function(){0<$("#ad-aegon-bottom-banner").length&&("close"==ad_aegon_status||($("#ad-aegon-bottom-banner .close").click(function(){return $$.setCookie("ad_aegon","close",7),$("#ad-aegon-bottom-banner").hide(),!0}),$("#ad-aegon-bottom-banner .down").click(function(){return $$.setCookie("ad_aegon","close",7),setTimeout(function(){$("#ad-aegon-bottom-banner").hide()},2e3),!0})))},initTouchSlide:function(a,e){1<$(a+" .bd ul li").length&&TouchSlide({slideCell:a,titCell:".hd ul",mainCell:".bd ul",effect:"leftLoop",autoPage:!0,startFun:function(e,t){$(a).find(".thd li").eq(e).show().siblings().hide()},autoPlay:!0,interTime:5e3}),new LazyLoad({elements_selector:a+" "+e,data_src:"original"})},initIndex:function(){$$.initTopicScroll()},initTopicScroll:function(){new LazyLoad({elements_selector:".index-topic-wrap img",data_src:"original"})},initDetails:function(){new LazyLoad({elements_selector:"#screen .lazy_screen,.tube-lazy",data_src:"original"}),$("[data-fancybox]").fancybox({loop:!0,mobile:{clickSlide:function(e,t){return e.type,"close"}}}),180<$(".description").height()&&($("#show-more").click(function(){return $("#describe").css({height:"auto","max-height":"none"}),$(this).parent().remove(),!1}),$(".show-more").show()),$("#show-more-version").click(function(){return $(".more-version").show(),$(this).parent().remove(),!1}),$(".versions dt").click(function(){var e=$(this);e.children("span").toggleClass("open"),e.next("dd").toggle()}),$(".pushbullet").click(function(){var e=$(this),t=e.attr("data-tag"),a=e.attr("data-name"),n=e.attr("data-package");t?$$.popup("#="+t,a+" updates",700,460):$$.popup("#="+n,a+" updates",700,460),gtag("event","click",{event_category:"pushbullet",event_label:n})}),$(".details-to-bottom").click(function(e){var t=$("#comment").offset().top;$("html,body").animate({scrollTop:t-60},500),e.preventDefault()}),$("#pre-register-btn").click(function(){$.fancybox.open({src:".pre_pop_pre_register",type:"inline",autoFocus:!1,backFocus:!1,touch:!1,mobile:{clickSlide:function(e,t){return e.type,"close"}}})}),$(".tag_add").click(function(){$.fancybox.open({src:".pre_pop_pre_tag",type:"inline",autoFocus:!1,backFocus:!1,touch:!1,mobile:{clickSlide:function(e,t){return e.type,"close"}}})})},initVersions:function(a){$(function(){$(a).click(function(e){var t=$(".ver-popup"),i=$(this);return".ver-item-m.pop"===a?t.html(i.parents("a").next().html()):t.html(i.next().html()),$.fancybox.open({src:".ver-popup",type:"inline",autoFocus:!1,backFocus:!1,touch:!1,mobile:{clickSlide:function(e,t){return e.type,"close"}},beforeShow:function(){var e=i.attr("data-vid"),t=$(".v"+e);if(!i.attr("data-c")&&(2===t.length||3===t.length)&&""==t.html().trim()){var a=i.attr("data-p"),n=i.attr("data-lang");t.html($$lang.LOADING).show(),$.ajax({url:"#",data:{package:a,vid:e,lang:n},type:"post",success:function(e){0==e.error&&(i.attr("data-c",1),t.html(e.doc))}})}}}),!1})})},initDetailsDownload:function(){var e=$("#download_link"),t=e.attr("ga");$$.gaEvent(t),$$.initTouchSlide("#slide-wrap",".lazy"),t&&e.attr("ga",t.replace("download|","redownload|")),$(".fast").click(function(){var e=$(this),t=e.find("i").hasClass("hover");e.find("i").toggleClass("hover"),t||e.toggleClass("on"),$(".fast-introduction").slideToggle(function(){t&&e.toggleClass("on")})})},initSearch:function(a,e,n){$(".advanced").click(function(){$(".advanced i").toggleClass("hover"),$(".regions").toggle()}),$(".regions .r").click(function(){$("#hidregion").val($(this).attr("r")),$(".formsearch").submit()}),$(".search-clear").click(function(){$("#hidregion").val(""),$(".formsearch").submit()});var i=$(".loadmore");if($("#search-page").submit(function(){return i.text()==$$lang.LOADING||(i.text($$lang.LOADING),$.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:"get",success:function(e){$("#search-res").append(e),window.defaultLazyLoadInstance.update(),i.text($$lang.SHOW_MORE);var t=parseInt($("#search-page-begin").val())+15;$("#search-page-begin").val(t),"app"===n?a<=t&&i.remove():(!$$.trim(e)||0<$("#search-res li").length%15)&&i.remove()}})),!1}),i.click(function(){$("#search-page").submit()}),e&&window.localStorage){var t="#.search.history:v1",r=window.localStorage.getItem(t);if(r)try{if(r=JSON.parse(r),!$.isArray(r))throw new Error;var o=r.indexOf(e);-1===o||r.splice(o,1),r.splice(0,0,e),r.splice(20),window.localStorage.setItem(t,JSON.stringify(r))}catch(e){window.localStorage.removeItem(t)}else window.localStorage.setItem(t,JSON.stringify([e]))}},initSearchHot:function(){if(window.localStorage){var n="#.search.history:v1",e=window.localStorage.getItem(n);if(e)try{if(e=JSON.parse(e),!($.isArray(e)&&0<e.length))throw new Error;for(var t="",a=$(".history-list"),i=a.attr("data-path"),r=0;r<e.length;r++)t+='<li><a href="'+i+"?q="+encodeURIComponent(e[r])+'"><div><i class="search-icon-time"></i><span class="content">'+e[r]+'</span></div></a><i class="search-icon-delete"></i></li>';a.append(t)}catch(e){window.localStorage.removeItem(n)}$(".history-list .search-icon-delete").click(function(){var e=$(this),t=e.parents("li").index(),a=window.localStorage.getItem(n);if(a)try{if(a=JSON.parse(a),!$.isArray(a))throw new Error;a.splice(t,1),window.localStorage.setItem(n,JSON.stringify(a)),e.parents("li").remove(),0===a.length&&$(".history").remove()}catch(e){window.localStorage.removeItem(n)}}),$(".history-delete").click(function(){$(".history").remove(),window.localStorage.removeItem(n)})}},initDown:function(){$("#captcha_a").click(function(){return $("#captcha_img").attr("src",$(this).attr("data-src")+"?"+Math.random()),!1}),$("#captcha_form").submit(function(){var e;return $("#captcha_form").find(".error").hide(),(e=$("#captcha_form button[type=submit]")).attr("data-reset",e.text()),e.attr("disabled","disabled"),e.text(e.attr("data-load")),$.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:"GET",dataType:"jsonp",jsonp:"callback",success:function(e){switch(e.status_code){case"SUCCESS":location.href=e.down_url;var t=$("#region-package").val();gtag("event",t,{event_category:"region",event_label:$("#region-hid").val()}),$$.gaEvent("download|"+t+"|region_APK");break;case"CAPTCHA_ERROR":(a=$("#captcha_form button[type=submit]")).attr("data-reset")&&a.text(a.attr("data-reset")),a.removeAttr("disabled"),$("#captcha_form").find(".error").show()}var a}}),!1}),$("#select-region").click(function(){$("#select-region i").toggleClass("hover"),$(".flags").toggle()});var t=!1;function e(){$(".banner-search-bg").removeClass("error"),$("#region-package").removeClass("error"),$(".region-down-err").hide()}function a(e){$(".banner-search-bg").addClass("error"),$("#region-package").addClass("error"),$(".region-down-err span").html(e),$(".region-down-err").show()}$("#region-form").submit(function(){return t||($("#region-package").val($$.trim($("#region-package").val())),t=!0,e(),$("#region-submit").addClass("ing"),$("#down-info").text($$lang["REGION_DOWN-DOWNLOADING"]),$.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:"post",success:function(e){if(e&&0==e.error)location.href=e.down_url,gtag("event",e.package_name,{event_category:"region",event_label:$("#region-hid").val()}),$$.gaEvent("download|"+e.package_name+"|region_APK");else{switch(e.error){case 1:a($$lang["REGION_DOWN-REGION_ERROR"]),$("#region-submit").removeClass("ing");break;case 2:location.href=$$x_ll+"/search?q="+$("#region-package").val()+"&region="+$("#region-hid").val();break;case 3:a($$lang["REGION_DOWN-INVALID_APP"]+' <a target="_blank" href="'+$$x_ll+"/search?q="+$("#region-package").val()+"&region="+$("#region-hid").val()+'">"'+$$.format($$lang["REGION_DOWN-SEARCH_RESULTS"],$("#region-package").val())+'"</a>'),$("#region-submit").removeClass("ing");break;case 4:location.href=$$x_ll+e.url;break;case 5:$("#captcha_form").find('[name="package_name"]').val(e.package_name),$("#captcha_a").click(),$.fancybox.open({src:"#captcha_form",type:"inline",autoFocus:!1,backFocus:!1,touch:!1,mobile:{clickSlide:function(e,t){return e.type,"close"}}})}$("#down-info").text("")}t=!1}})),!1}),$(".region-down-err .close").click(function(){return e(),!1})},initMagnificPopup:function(e,t){e.find(t).attr("data-fancybox","true").fancybox({mobile:{clickSlide:function(e,t){return e.type,"close"}}})},setFlag:function(e){var t=$(e);return $("#region-hid").val(t.attr("title")),$("#captcha_form [name=region]").val(t.attr("title")),$("#select-region").attr("title",t.attr("title")).html(t.find("span").clone()).append(t.attr("title")+"<i></i>"),$("#flags").hide(),!1},initRedirect:function(){$(".lang-no").click(function(){Redirect.setLangCookie("en"),$(".lang-tip").toggleClass("lang-tip-open"),setTimeout(function(){$(".lang-tip").toggleClass("lang-hide")},500)}),Redirect.isShowLangTip&&($(".lang-reason span").html($$lang.LANG_TIP[Redirect.langGoll]),$(".lang-no").text($$lang.LANG_IGNORE[Redirect.langGoll]),$(".lang-yes").text($$lang.LANG_OK[Redirect.langGoll]).attr("href",Redirect.langGoUrl),$(".lang-tip").toggleClass("lang-hide").toggleClass("lang-tip-open"))},initLoginRegister:function(){function p(t,e){var a=t.parent().find(".cmt-popup-loading");a.show(),0<t.find("[name='captcha']").length&&(e.captcha=t.find("[name='captcha']").val().trim()),t.find(".cmt-popup-error").hide(),$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,type:"POST",url:t.attr("action"),data:e,success:function(e){a.hide(),h(t.find("[type=submit]")),e.error?(t.find(".cmt-popup-error").text(e.msg).show(),"ACCOUNT_NOT_EXIST"!=e.status_code&&"INCORRECT_ACCOUNT"!=e.status_code&&"ACCOUNT_EXIST"!=e.status_code||m(t.find("[name='account']")),"INCORRECT_PASSWORD"==e.status_code&&(m(t.find("[name='password']")),m(t.find("[name='password_r']"))),"INCORRECT_EMAIL"==e.status_code&&m(t.find("[name='email']")),"INCORRECT_CAPTCHA"==e.status_code&&m(t.find("[name='captcha']"))):n()}})}function m(e){e.addClass("cmt-input-error")}function f(e){e.attr("disabled","disabled")}function h(e){e.removeAttr("disabled")}function n(){var e=$$.getCookie("#__next");location.href=e?decodeURIComponent(e):$$x_ll_root}$(document).on("click",".cmt-popup [data-social]",function(){var e,t,a,n,i,r;i=$(this).attr("data-social"),window.open("/auth/"+i,"Connect",(t=e={width:700,height:520,menubar:"no",resizable:"yes",location:"yes",scrollbars:"no",centered:!0},a=window.outerWidth-e.width,n=window.outerHeight-e.height,e.centered&&(t.left=e.left||Math.round(window.screenX+a/2),t.top=e.top||Math.round(window.screenY+n/2.5),delete t.centered),r=t,Object.keys(r).map(function(e){return e+"="+r[e]}).join(",")))}),$(document).on("submit","#cmt-login-form",function(){var e=$(this),t=e.find("[type=submit]");e.find(".cmt-input-error").removeClass("cmt-input-error"),f(t);var a=e.find(".cmt-popup-error"),n=e.find("[name='account']"),i=e.find("[name='password']"),r=n.val().trim(),o=i.val(),c={account:r,password:o};$$.checkAccount(r)?$$.checkPassword(o)?p(e,c):(m(i),a.text($$lang["USER-INCORRECT_PASSWORD"]).show(),h(t)):(m(n),a.text($$lang["USER-INCORRECT_ACCOUNT"]).show(),h(t))}),$(document).on("submit","#cmt-register-form",function(){var e=$(this),t=e.find("[type=submit]");e.find(".cmt-input-error").removeClass("cmt-input-error"),f(t);var a=e.find(".cmt-popup-error"),n=e.find("[name='account']"),i=e.find("[name='email']"),r=e.find("[name='password']"),o=e.find("[name='password_r']"),c=n.val().trim(),s=i.val().trim(),l=r.val(),d=o.val(),u={account:c,email:s,password:l};$$.checkAccount(c)?$$.checkPassword(l)?l==d?p(e,u):(m(r),m(o),a.text($$lang["USER-PASSWORD_NOT_MATCH"]).show(),h(t)):(m(r),a.text($$lang["USER-PASSWORD_MUST"]).show(),h(t)):(m(n),a.text($$lang["USER-USERNAME_MUST"]).show(),h(t))}),$(document).on("click",".cmt-captcha_a",function(){return $(this).find("img").attr("src",$(this).attr("data-src")+"?"+Math.random()),!1}),window.popupResult=function(e){e&&(e.error?$(".cmt-popup").find(".cmt-popup-error").text("Error").show():e.user&&"web"==e.user.local_user&&n())}},checkAccount:function(e){return 1<=e.length&&e.length<=20&&!/[ \f\n\r\t\v`~!@#\$%\^\&\*\(\)=\+<>\?:"\{\},\\\/;'\[\]\|]+/.test(e)},checkPassword:function(e){return 6<=e.length&&e.length<=32},hideAlert:function(e){setTimeout(function(){e.hide()},2e3)},preAlertError:function(e){$("#form_contact .alert").removeClass("success").addClass("error").text(e).show()},initProfile:function(){$(function(){$("#select_month, #select_year").change(function(){var e,t,a=$("#select_day"),n=parseInt($("#select_year").val()),i=parseInt($("#select_month").val());if(0<n&&0<i){switch($("option",a).not("[value='0']").remove(),i){case 2:e=n%4==0&&n%100!=0||n%400==0?29:28;break;case 4:case 6:case 9:case 11:e=30;break;default:e=31}for(t=1;t<=e;t++)a.append($("<option/>").text(t).val(t))}}),$("#form_contact").submit(function(){var t=$(this),e={},a=t.find("[name=birth_day]").val().trim(),n=t.find("[name=birth_month]").val().trim(),i=t.find("[name=birth_year]").val().trim(),r=t.find("[name=nickName]").val().trim();return a&&n&&i&&(n<10&&(n="0"+n),a<10&&(a="0"+a),e.birthday=i+"-"+n+"-"+a),e.nickName=r,0<t.find("[name=gender]:checked").length&&(e.gender=t.find("[name=gender]:checked").val().trim()),t.find(".alert").hide(),$$.btnLoad(t.find("button[type=submit]")),$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,url:t.attr("action"),data:e,type:"POST",success:function(e){e.error?t.find(".alert").removeClass("success").addClass("error").text(e.msg).show():($("#nav-user-name").text(e.user.display_name),t.find(".alert").removeClass("error").addClass("success").text($$lang["USER-SAVED_SUCCESS"]).show(),$$.hideAlert(t.find(".alert"))),$$.btnReset(t.find("button[type=submit]"))}}),!1}),$(".picture a").click(function(){$.fancybox.open({src:".pre_pop_ca",type:"inline",autoFocus:!1,backFocus:!1,touch:!1,mobile:{clickSlide:function(e,t){return e.type,"close"}}})})})},initPassword:function(){$(function(){function s(e,t){return $$.checkPassword(t)?(e.removeClass("error").addClass("success"),!0):(e.removeClass("success").addClass("error"),$$.preAlertError($$lang["USER-PASSWORD_MUST"]),!1)}$("#form_contact").submit(function(){var t=$(this),e={},a=t.find("[name='password']"),n=t.find("[name='password_n']"),i=t.find("[name='password_r']"),r=a.val(),o=n.val(),c=i.val();return t.find(".alert").hide(),s(a,r)&&s(n,o)&&s(i,c)&&(o===c?($$.btnLoad(t.find("button[type=submit]")),e.password=r,e.newPassword=o,$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,url:t.attr("action"),data:e,type:"POST",success:function(e){e.error?("INCORRECT_PASSWORD"===e.statusCode&&a.removeClass("success").addClass("error"),t.find(".alert").removeClass("success").addClass("error").text(e.msg).show()):(t.find(".alert").removeClass("error").addClass("success").text($$lang["USER-SAVED_SUCCESS"]).show(),$$.hideAlert(t.find(".alert"))),$$.btnReset(t.find("button[type=submit]"))}})):(n.removeClass("success").addClass("error"),i.removeClass("success").addClass("error"),$$.preAlertError($$lang["USER-PASSWORD_NOT_MATCH"]))),!1})})},initEmail:function(){$(function(){$(".pre_email_send").click(function(){var a=60,n=$(this),i=n.parents("form"),e={email:i.find("[name='email']").val()};e.email?(n.attr("disabled","disabled").addClass("sending"),i.find(".alert").hide(),$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,url:n.attr("data-action"),data:e,type:"POST",success:function(e){if(e.error)n.removeAttr("disabled").removeClass("sending"),i.find(".alert").removeClass("success").addClass("error").text(e.msg).show();else{n.text($$.format($$lang["USER-RESEND_IN"],a));var t=setInterval(function(){a--,n.text($$.format($$lang["USER-RESEND_IN"],a)),0===a&&(n.removeAttr("disabled").removeClass("sending").text($$lang["USER-RESEND_VERIFICATION"]),clearInterval(t))},1e3)}}})):$("#form_contact").find("button[type=submit]").click()}),$("#form_contact").submit(function(){var t=$(this),e={},a=t.find("[name='email']"),n=t.find("[name='captcha']"),i=a.val(),r=n.val();return t.find(".alert").hide(),$$.btnLoad(t.find("button[type=submit]")),e.email=i,e.captcha=r,$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,url:t.attr("action"),data:e,type:"POST",success:function(e){e.error?t.find(".alert").removeClass("success").addClass("error").text(e.msg).show():(t.find(".alert").removeClass("error").addClass("success").text($$lang["USER-SAVED_SUCCESS"]).show(),$$.hideAlert(t.find(".alert")),0<$(".pre_email_tip").length&&window.history.back()),$$.btnReset(t.find("button[type=submit]"))}}),!1})})},initFindPwd:function(){$(function(){function f(e){e.addClass("cmt-input-error")}function h(e){e.removeAttr("disabled")}$(".pwd_email_send").click(function(){var a=60,n=$(this),e=n.parents("form"),t={email:e.find("[name='email']").val()};if(t.email){n.attr("disabled","disabled").addClass("sending");var i=e.find(".cmt-popup-error");i.hide(),$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,url:n.attr("data-action"),data:t,type:"POST",success:function(e){if(e.error)n.removeAttr("disabled").removeClass("sending"),i.text(e.msg).show(),"INCORRECT_EMAIL"!=e.status_code&&"EMAIL_UNBOUND"!=e.status_code||f(n.find("[name='email']"));else{n.text($$.format($$lang["USER-RESEND_IN"],a));var t=setInterval(function(){a--,n.text($$.format($$lang["USER-RESEND_IN"],a)),0===a&&(n.removeAttr("disabled").removeClass("sending").text($$lang["USER-RESEND"]),clearInterval(t))},1e3)}}})}else e.find("button[type=submit]").click()}),$(document).on("submit","#cmt-email-form",function(){var e=$(this),t=e.find("[type=submit]");e.find(".cmt-input-error").removeClass("cmt-input-error"),t.attr("disabled","disabled");var a,n,i,r=e.find(".cmt-popup-error"),o=e.find("[name='email']"),c=e.find("[name='password']"),s=e.find("[name='password_r']"),l=e.find("[name='captcha']"),d=o.val().trim(),u=c.val(),p=s.val(),m={email:d,captcha:l.val().trim(),password:u};$$.checkPassword(u)?u==p?(n=m,(i=(a=e).parent().find(".cmt-popup-loading")).show(),a.find(".cmt-popup-error").hide(),$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,type:"POST",url:a.attr("action"),data:n,success:function(e){i.hide(),h(a.find("[type=submit]")),e.error?(a.find(".cmt-popup-error").text(e.msg).show(),"INCORRECT_PASSWORD"==e.status_code&&(f(a.find("[name='password']")),f(a.find("[name='password_r']"))),"INCORRECT_EMAIL"==e.status_code&&f(a.find("[name='email']")),"INCORRECT_CAPTCHA"==e.status_code&&f(a.find("[name='captcha']"))):location.href=$$x_ll+"/login"}})):(f(c),f(s),r.text($$lang["USER-PASSWORD_NOT_MATCH"]).show(),h(t)):(f(c),r.text($$lang["USER-PASSWORD_MUST"]).show(),h(t))})})},initUserDestroy:function(){$(function(){$("#form_contact").submit(function(){var o=$(this);return swal({title:$$lang["COMMENT-ARE_YOU_SURE"],type:"warning",customClass:"cmt-sweet-alert",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:$$lang["COMMENT-DELETE"],closeOnConfirm:!1,showLoaderOnConfirm:!0,cancelButtonText:$$lang.CANCEL},function(e){if(e){var t={},a=o.find("[name='email']"),n=o.find("[name='message']"),i=a.val(),r=n.val();o.find(".alert").hide(),$$.btnLoad(o.find("button[type=submit]")),t.email=i,t.message=r,$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,url:o.attr("action"),data:t,type:"POST",success:function(e){e.error?swal({title:e.msg||"Error",type:"error",showConfirmButton:!1,timer:2e3}):($$.clearForm($("#form_contact"),'[name="nickName"],[name="email"]'),swal({title:$$lang.SUBMISSION_SUCCESS,type:"success",showConfirmButton:!1,timer:2e3})),$$.btnReset(o.find("button[type=submit]"))}})}}),!1})})},initPrivacy:function(){$(function(){$('#form_contact [name="private_account"]').change(function(){var t=$(this);if(!t.attr("disabled")){t.attr("disabled",!0);var e=$("#form_contact"),a={};this.checked?a.privacySetting=["PROFILE"]:a.privacySetting=[""],$.ajax({xhrFields:{withCredentials:!0},crossDomain:!0,url:e.attr("action"),data:a,type:e.attr("method"),success:function(e){t.removeAttr("disabled")}})}})})},initInvit:function(){$(".author-reply").click(function(){var e=$("#cmt-form").offset().top;return $("html,body").animate({scrollTop:e-60},500),!1})},serviceWorker:function(){"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js").then(function(e){console.log("Service Worker registration successful with scope: ",e.scope);})(function(e){console.log("Service Worker registration failed: ",e)}),window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){})}))}};!function(t,C,e,S){var x=['input:not([type]),input[type="color"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="email"],input[type="file"],input[type="hidden"],input[type="month"],input[type="number"],input[type="password"],input[type="range"],input[type="search"],input[type="tel"],input[type="text"],input[type="time"],input[type="url"],input[type="week"],textarea',"select",'input[type="checkbox"],input[type="radio"]'],r=x.join(","),E={},o=function(e,t){var a={pattern:!0,conditional:!0,required:!0},n=C(this),i=n.val()||"",r=n.data("validate"),o=r!==S?E[r]:{},c=n.data("prepare")||o.prepare,s=n.data("pattern")||("regexp"==C.type(o.pattern)?o.pattern:/(?:)/),l=n.attr("data-ignore-case")||n.data("ignoreCase")||o.ignoreCase,d=n.data("mask")||o.mask,u=n.data("conditional")||o.conditional,p=n.data("required"),m=n.data("describedby")||o.describedby,f=n.data("description")||o.description,h=n.data("trim"),$=/^(true|)$/i;f=C.isPlainObject(f)?f:t.description[f]||{};if(p=""==p||(p||!!o.required),h=""==h||(h||!!o.trim),$.test(h)&&(i=C.trim(i)),C.isFunction(c)?i=String(c.call(n,i)):C.isFunction(t.prepare[c])&&(i=String(t.prepare[c].call(n,i))),"regexp"!=C.type(s)&&(s=(l=!/^false$/i.test(l))?RegExp(s,"i"):RegExp(s)),u!=S)if(C.isFunction(u))a.conditional=!!u.call(n,i,t);else for(var g=u.split(/[\s\t]+/),v=0,w=g.length;v<w;v++)t.conditional.hasOwnProperty(g[v])&&!t.conditional[g[v]].call(n,i,t)&&(a.conditional=!1);if((p=$.test(p))&&(n.is(x[0]+","+x[1])?0<!i.length&&(a.required=!1):n.is(x[2])&&(n.is("[name]")?0==C('[name="'+n.prop("name")+'"]:checked').length&&(a.required=!1):a.required=n.is(":checked"))),n.is(x[0]))if(s.test(i)){if("keyup"!=e.type&&d!==S){var b=i.match(s),y=0;for(w=b.length;y<w;y++)d=d.replace(RegExp("\\$\\{"+y+"(?::`([^`]*)`)?\\}","g"),b[y]!==S?b[y]:"$1");d=d.replace(/\$\{\d+(?::`([^`]*)`)?\}/g,"$1"),s.test(d)&&n.val(d)}}else p?a.pattern=!1:0<i.length&&(a.pattern=!1);var _=C('[id="'+m+'"]'),k=f.valid;return 0<_.length&&"keyup"!=e.type&&(a.required?a.pattern?a.conditional||(k=f.conditional):k=f.pattern:k=f.required,_.html(k||"")),"function"==typeof o.each&&o.each.call(n,e,a,t),t.eachField.call(n,e,a,t),a.required&&a.pattern&&a.conditional?(t.waiAria&&n.prop("aria-invalid",!1),"function"==typeof o.valid&&o.valid.call(n,e,a,t),t.eachValidField.call(n,e,a,t)):(t.waiAria&&n.prop("aria-invalid",!0),"function"==typeof o.invalid&&o.invalid.call(n,e,a,t),t.eachInvalidField.call(n,e,a,t)),a};C.extend({validateExtend:function(e){return C.extend(E,e)},validateSetup:function(e){return C.extend(t,e)}}).fn.extend({validate:function(i){return i=C.extend({},t,i),C(this).validateDestroy().each(function(){var e=C(this);if(e.is("form")){e.data(name,{options:i});var n=e.find(r),t=i.namespace;e.is("[id]")&&(n=n.add('[form="'+e.prop("id")+'"]').filter(r)),n=n.filter(i.filter),i.onKeyup&&n.filter(x[0]).on("keyup."+t,function(e){o.call(this,e,i)}),i.onBlur&&n.on("blur."+t,function(e){o.call(this,e,i)}),i.onChange&&n.on("change."+t,function(e){o.call(this,e,i)}),i.onSubmit&&e.on("submit."+t,function(t){var a=!0;n.each(function(){var e=o.call(this,t,i);e.pattern&&e.conditional&&e.required||(a=!1)}),a?(i.sendForm||t.preventDefault(),C.isFunction(i.valid)&&i.valid.call(e,t,i)):(t.preventDefault(),t.stopImmediatePropagation(),C.isFunction(i.invalid)&&i.invalid.call(e,t,i))})}})},validateDestroy:function(){var e=C(this),t=e.data(name);if(e.is("form")&&C.isPlainObject(t)&&"string"==typeof t.options.nameSpace){var a=e.removeData(name).find(r).add(e);e.is("[id]")&&(a=a.add(C('[form="'+e.prop("id")+'"]').filter(r))),a.off("."+t.options.nameSpace)}return e}})}({sendForm:!0,waiAria:!0,onSubmit:!0,onKeyup:!1,onBlur:!1,onChange:!1,nameSpace:"validate",conditional:{},prepare:{},description:{},eachField:$.noop,eachInvalidField:$.noop,eachValidField:$.noop,invalid:$.noop,valid:$.noop,filter:"*"},jQuery,window),function(i){i.fn.clearInput=function(e){var n=i.extend({focus:!0},e);return this.each(function(){var e=i(this),t=i(n.clear);function a(){0<e.val().length?t.show():t.hide()}t.click(function(){e.val("").change(),t.hide(),n.focus&&e.focus()}),e.on("keyup keydown change focus",function(){a()}),a()})}}(jQuery),$(function(){window.defaultLazyLoadInstance=new LazyLoad({elements_selector:".lazy",data_src:"original"}),new LazyLoad({elements_selector:".lazy1",data_src:"original"}); $(".formsearch").submit(function(){e||$(this).find(".search-button").addClass("search-load")}),$(document).on("click",".ga",function(){return $$.gaEvent($(this).attr("ga")),!0}),$(".dl-ref").click(function(){return $$.refEvent($(this).attr("dl-ref")),!0}),$(".amobile").click(function(){return $$.setCookie("mobile","0",null,"#"),!0}),$$.initAutocomplete(),$$.initMenu(),$$.initIos(),$$.initRedirect(),$$.serviceWorker(),console.log("\n %c # 1.3.7 %c # \n","color: #FFFFFF; background: #38C78D; padding:5px 0;","padding:5px 0;")});
